// CORES VARIAVEIS
$branco: #fff;
$cor-texto: #444;
$preto: #111;
$cinza: #f7f7f7;

$livro1: #2C4C2E;
$livro2: #255656;


// FAMILIAS VARIAVEIS
$fonte-padrao: "Roboto",sans-serif;
$fonte-titulo: "Oswald",serif;


// LARGURAS
$largura-texto: 800px;

// IMPORTACOES
@import "bourbon/bourbon";
@import "reset";
@import "mixins";
@import "predefinicoes";
@charset "UTF-8";

/****************************************
 ----------------------------------------
 * LAYOUT *
 ----------------------------------------
 ****************************************/
html, body {overflow-x: hidden;
	&.blockscroll{
		overflow: hidden;
	}
}

body {
	font-weight: 400;
	font-style: normal;
	font-size: 16px;
	line-height: 1.65;
	color: $cor-texto;
	font-family: $fonte-padrao;
	background: $branco;
	position: relative;
}

.container {
	width: 1200px;
	margin: 0 auto;
	max-width: 100%;
	padding: 0 10px;
}

#cabecalho {
	padding: 0 0 30px;
	margin: 0 0 60px;

	.container {
		@include flex(space-between);

		.marca {
			padding: 20px 40px 10px;
			background: $branco;
			display: inline-block;
			text-transform: uppercase;
			
			h1 {
				margin: 0 0 10px;
				@supports (-webkit-background-clip: text) and (-webkit-text-fill-color: transparent) {
					background: url('../img/livro1.jpg') no-repeat center center;
					-webkit-background-clip: text;
					-webkit-text-fill-color: transparent;
				}
			}

			h2 {
				font-size: 16px;
				margin: 0 0 10px;
			}

			h3 {
				font-size: 15px;
				text-transform: none;
				text-align: right;
				font-weight: normal;
			}
		}

		img {
			width: 200px;
			@include align-self(center);
		}

		@media (max-width: $largura-texto) {
			.marca { width: 100%; }

			img {text-align: center; display: block; margin: 20px auto 0}
		}
	}

	body.livro1 & {
		background: url('../img/livro1.jpg') no-repeat center center / cover;

		.container .marca {
			color: $livro1;

			h1 {
				@supports (-webkit-background-clip: text) and (-webkit-text-fill-color: transparent) {
					background: url('../img/livro1.jpg') no-repeat center center;
					-webkit-background-clip: text;
					-webkit-text-fill-color: transparent;
				}
			}
		}
	}
	body.livro2 & {
		background: url('../img/livro2.jpg') repeat-x center center;

		.container .marca {
			color: $livro2;

			h1 {
				@supports (-webkit-background-clip: text) and (-webkit-text-fill-color: transparent) {
					background: url('../img/livro2.jpg') repeat-x center center;
					-webkit-background-clip: text;
					-webkit-text-fill-color: transparent;
				}
			}
		}
	}
}


article {
	position: relative;
	z-index: 1;
	padding: 10px 10px 100px !important;

	& > * {
		width: $largura-texto;
		max-width: 100%;

		* {max-width: 100%;}
	}

	h2.parte {
		font-size: 3em;
	}

	table{
		width: 100%;
		margin: 3em 0;
		font-size: 0.9em;
		line-height: 1.2;
		&, *{
			border-collapse: collapse;
		}
		th{
			padding: 0.3em 0.6em;
			text-align: left;
			background: $cinza;
			font-weight: bold;
		}

		thead{
			border-bottom: 2px solid black;
		}

		tbody{
			tr{
				border-bottom: 1px solid grey;
				th,td{
					padding: 0.3em 0.6em;
				}
			}
		}
	}

	p {
	  -webkit-hyphens: auto;
	  -moz-hyphens: auto;
	  -ms-hyphens: auto;
	  hyphens: auto;
	  text-align: justify;
	}

	span.pagina {
		position: absolute;
		right: 0;
		width: auto;
		font-size: 50px;
		opacity: 0.2;
		font-family: $fonte-titulo;
		z-index: -1;
		line-height: 1;
		
		@media (max-width: $largura-texto) {
			position: relative;
			float: right;
			margin: 0 0 0 10px;
		}
	}

	figure{
		margin: 2em 0;

		img{
			display: block;
			width: 90%;
			text-align: center;
			margin: 0 auto;
			height: auto;
			display: block;
			box-shadow: 0 0 6px rgba(0,0,0,0.2)
		}
		figcaption{
			margin-top: 0.5em;
			font-size: 0.9em;
			color: lighten($preto,40%);
			text-align: center;
			font-style: italic;
		}
	}
}



footer {
	width: 100%;
	position: fixed;
	bottom: 0;
	z-index: 2;
	color: $branco;
	height: 82px;
	font-size: 12px;
	letter-spacing: 0.1em;
	text-transform: uppercase;
	@include transition(all 0.5s ease-in-out);

	body.livro1 & {background: $livro1;}
	body.livro2 & {background: $livro2;}

	.container {
		padding: 20px 10px;
		@include flex(space-between);
		text-align: center;

		a {color: inherit;}

		.navega-caps {
			@include align-self(center);

			span {display: block; line-height: 1; margin-top: 5px;}

			a, a:link {
				&:before, &:after {
					content: '';
					display: inline-block;
					vertical-align: middle;
				}

				&:nth-of-type(1):before {
					content: '\25C0';
					margin-right: 8px;
				}

				&:nth-of-type(2):after {
					content: '\25B6';
					margin-left: 8px;
				}

				&.desabilita {
					opacity: 0.4;
					cursor: not-allowed;
				}
			}
		}

		.sumario {
			button {
			   -webkit-appearance: none;
			   -moz-appearance:    none;
			   appearance:         none;
			   background: none;
			   color: inherit;
			   border:0; outline: 0;
			   font-size: inherit;
			   letter-spacing: inherit;
			   font-family: inherit;
			   text-transform: inherit;
			   cursor: pointer;
			   padding: 0; margin: 0 15px;

				&:before {
					content:'\2254';
					display: block;
					text-align: center;
					font-size: 50px;
					line-height: 15px;
					margin-bottom: 11px;
				}
			}
		}

		.livros {
			@include align-self(center);
			span {display: block; margin-top: 5px; line-height: 1}

			a, a:link {
				border:1px solid $branco;
				padding: 0 8px;

				&.ativo, &:hover {
					background: $branco;
					color: $livro1;
				}
			}
		}

		button.fechar {
			display: none;
			@include transition(all 0.2s linear);

			&:hover{
				cursor: pointer;
			}

			&.visivel{
				opacity: 1;
			}
		}
	}

	.cnt-sumario {
		width: 100%;
		height: 0;
		overflow: hidden;

		&.invisivel{
			opacity: 0;
		}
	}

	&.fullscreen{
		overflow: scroll;
		height: 100vh;

		body.livro1 & {background: transparentize(darken($livro1,20%),0.1);}
		body.livro2 & {background: transparentize(darken($livro2,20%),0.1);}

		.navegadores{
			display: none;
		}

		button.fechar{
			display: block;
		}

		.cnt-sumario {
			height: 100%;
			overflow: auto;
		}
	}	
}