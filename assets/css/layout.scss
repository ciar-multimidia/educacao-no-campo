// CORES VARIAVEIS
$branco: #fff;
$cor-texto: #444;
$preto: #111;
$cinza: #f7f7f7;

$livro1: #2C4C2E;
$livro2: #255656;


// FAMILIAS VARIAVEIS
$fonte-padrao: "Roboto",sans-serif;
$fonte-titulo: "Oswald",serif;


// LARGURAS
$largura-texto: 800px;

// IMPORTACOES
@import "bourbon/bourbon";
@import "reset";
@import "mixins";
@import "predefinicoes";
@charset "UTF-8";

/****************************************
 ----------------------------------------
 * LAYOUT *
 ----------------------------------------
 ****************************************/
html, body {overflow-x: hidden;
	&.blockscroll{
		overflow: hidden;
	}
}

body {
	font-weight: 400;
	font-style: normal;
	font-size: 16px;
	line-height: 1.65;
	color: $cor-texto;
	font-family: $fonte-padrao;
	background: $branco;
	position: relative;
}

.container {
	width: 1200px;
	margin: 0 auto;
	max-width: 100%;
	padding: 0 10px;
	position: relative;
}

#cabecalho {
	padding: 0 0 30px;
	margin: 0 0 60px;

	.container {
		@include flex(space-between);

		.marca {
			padding: 20px 40px 10px;
			background: $branco;
			display: inline-block;
			text-transform: uppercase;
			
			h1 {
				margin: 0 0 10px;
				@supports (-webkit-background-clip: text) and (-webkit-text-fill-color: transparent) {
					background: url('../img/livro1.jpg') no-repeat center center;
					-webkit-background-clip: text;
					-webkit-text-fill-color: transparent;
				}
			}

			h2 {
				font-size: 16px;
				margin: 0 0 10px;
			}

			h3 {
				font-size: 15px;
				text-transform: none;
				text-align: right;
				font-weight: normal;
			}
		}

		img {
			width: 200px;
			@include align-self(center);
		}

		@media (max-width: $largura-texto) {
			.marca { width: 100%; }

			img {text-align: center; display: block; margin: 20px auto 0}
		}
	}

	body.livro1 & {
		background: url('../img/livro1.jpg') no-repeat center center / cover;

		.container .marca {
			color: $livro1;

			h1 {
				@supports (-webkit-background-clip: text) and (-webkit-text-fill-color: transparent) {
					background: url('../img/livro1.jpg') no-repeat center center;
					-webkit-background-clip: text;
					-webkit-text-fill-color: transparent;
				}
			}
		}
	}
	body.livro2 & {
		background: url('../img/livro2.jpg') repeat-x center center;

		.container .marca {
			color: $livro2;

			h1 {
				@supports (-webkit-background-clip: text) and (-webkit-text-fill-color: transparent) {
					background: url('../img/livro2.jpg') repeat-x center center;
					-webkit-background-clip: text;
					-webkit-text-fill-color: transparent;
				}
			}
		}
	}
}


article {
	position: relative;
	z-index: 1;
	padding: 10px 10px 100px !important;
	text-align: justify;

	& > * {
		width: $largura-texto;
		max-width: 100%;

		* {max-width: 100%;}
	}

	h2.parte {
		font-size: 3em;
	}

	table{
		width: 100%;
		margin: 3em 0;
		font-size: 0.9em;
		line-height: 1.2;
		&, *{
			border-collapse: collapse;
		}
		th{
			padding: 0.3em 0.6em;
			text-align: left;
			background: $cinza;
			font-weight: bold;
		}

		thead{
			border-bottom: 2px solid black;
		}

		tbody{
			tr{
				border-bottom: 1px solid grey;
				th,td{
					padding: 0.3em 0.6em;
				}
			}
		}
	}


	span.pagina {
		position: absolute;
		right: 0;
		width: auto;
		font-size: 50px;
		opacity: 0.2;
		font-family: $fonte-titulo;
		z-index: -1;
		line-height: 1;
		
		@media (max-width: $largura-texto) {
			position: relative;
			float: right;
			margin: 0 0 0 10px;
		}
	}

	blockquote {
		width: 100%;
		@include clearfix();

		p { width: $largura-texto; float: right;}
	}

	figure{
		margin: 2em 0;

		img{
			display: block;
			width: 90%;
			text-align: center;
			margin: 0 auto;
			height: auto;
			display: block;
			box-shadow: 0 0 6px rgba(0,0,0,0.2)
		}
		figcaption{
			margin-top: 0.5em;
			font-size: 0.9em;
			color: lighten($preto,40%);
			text-align: center;
			font-style: italic;
		}
	}

	h4 { 
		font-size: 1.1em; 
		line-height: 1.3;
		display: block;
		font-family: $fonte-titulo;
		font-weight: bold;
	}
	h5, h6 {
		font-size: 1em;
		line-height: 1.3;
		display: block;
		font-family: $fonte-titulo;
		font-weight: bold;
	}


	.box {
		width: $largura-texto / 1.5;
		float: right;
		margin: 0 0 0 20px;
		padding: 20px;
		font-style: italic;

		p:last-of-type {margin-bottom: 0}
	}

	body.livro1 & {
		.box {color: $livro1; background: transparentize($livro1,0.8)}
	}
	body.livro2 & {
		.box {color: $livro2; background: transparentize($livro2,0.8)}
	}
}



footer {
	width: 100%;
	position: fixed;
	bottom: 0;
	z-index: 2;
	color: $branco;
	height: 82px;
	font-size: 12px;
	letter-spacing: 0.1em;
	text-transform: uppercase;
	@include transition(all 0.5s ease-in-out);

	body.livro1 & {background: $livro1;}
	body.livro2 & {background: $livro2;}

	.container {
		padding: 20px 10px;
		@include flex(space-between);
		text-align: center;

		a {color: inherit;}

		.navega-caps {
			@include align-self(center);

			span {display: block; line-height: 1; margin-top: 5px;}

			a, a:link {
				&:before, &:after {
					content: '';
					display: inline-block;
					vertical-align: middle;
				}

				&:nth-of-type(1):before {
					content: '\25C0';
					margin-right: 8px;
				}

				&:nth-of-type(2):after {
					content: '\25B6';
					margin-left: 8px;
				}

				&[disabled] {
					opacity: 0.4;
					pointer-events: none;
				}
			}
		}

		.sumario {
			button {
			   -webkit-appearance: none;
			   -moz-appearance:    none;
			   appearance:         none;
			   background: none;
			   color: inherit;
			   border:0; outline: 0;
			   font-size: inherit;
			   letter-spacing: inherit;
			   font-family: inherit;
			   text-transform: inherit;
			   cursor: pointer;
			   padding: 0; margin: 0 15px;

				&:before {
					content:'\2254';
					display: block;
					text-align: center;
					font-size: 50px;
					line-height: 15px;
					margin-bottom: 11px;
				}
			}
		}

		.livros {
			@include align-self(center);
			span {display: block; margin-top: 5px; line-height: 1}

			a, a:link {
				border:1px solid $branco;
				padding: 0 8px;

				&.ativo, &:hover {
					background: $branco;
					color: $livro1;
					text-decoration: none;
				}
			}
		}

		button.fechar {
			display: none;
			@include transition(all 0.2s linear);
			@include appearance(none);
			background: none;
			border: none;
			outline: none;
			color: $branco;
			opacity: 0;
			font-size: 70px;
			line-height: 1;
			position: absolute;
			right: 0; top: 0;

			&:hover{
				cursor: pointer;
			}

			&.visivel{
				opacity: 1;
			}
		}
	}

	.cnt-sumario {
		width: 100%;
		height: 0;
		overflow: hidden;
		position: relative;

		&.invisivel{
			opacity: 0;
		}
	}

	&.fullscreen{
		overflow: scroll;
		height: 100vh;

		body.livro1 & {background: transparentize(darken($livro1,16%),0.05);}
		body.livro2 & {background: transparentize(darken($livro2,16%),0.05);}

		.navegadores{
			display: none;
		}

		button.fechar{
			display: block;
		}

		.cnt-sumario {
			height: 100%;
			overflow: auto;
			font-weight: normal;
		}
	}	

	@media (max-width: 480px) {
		height: 60px;

		.container { padding: 8px 5px; }
	}
}

@import "sumario";



////////////////////////////////////// NOTA RODAPE
button.botao-rodape{
	@include appearance(none);
	outline: none;
	display: inline;
	height: auto;
	width: auto;
	margin: 0;
	padding: 0.2em 0.3em;
	font-family: $fonte-padrao;
	font-size: 0.9em;
	line-height: 1;
	background-color: hsl(0,0,90%);
	border-radius: 2px;
	border: 1px solid hsl(0,0,70%);
	vertical-align: top;
	&:before{
		display: inline;
		content: attr(data-numero);
	}
	&:hover{
		cursor: pointer;
	}

	&.focus{
		outline: none;
	}

	@include transition(all 0.1s linear);
	@include transition-property(color, background-color, border);
	&.ativado{
		border-color: black;
		background-color: black;
		color: white;
	}

}

.container-notas-rodape {
	font-size: 0.9em;
	p {
		width: 100%;

		&:last-of-type {margin-bottom: 0}
	}
}
 
.nota-rodape{
	position: absolute;
	font-size: 0.9em;
	padding: 1em 1em 2em;
	margin: 0 10px;
	box-shadow: 0px 4px 15px rgba(0,0,0, 0.3);
	background-color: #fff;
	border-bottom-width: 4px;
	width: auto;
	max-width: 480px;
	z-index: 5;
	display: none;
	opacity: 0;
	@include transform(scale(0.5));
	@include transition(all 0.2s ease-out);
	@include transition-property(opacity, transform);


	@include transform-origin(50% 100%);
	&.origem-top{
		@include transform-origin(50% 0%);

	}

	&.db{
		display: block;
	}
	&.visivel{
		opacity: 1;
		@include transform(scale(1));
		z-index: 4;
	}

	&.easing-saida{
		@include transition-timing-function(ease-in);
	}

	p, blockquote, ul, ol {
		padding: 0;
	}

	button.fechar{
		@include appearance(none);
		outline: none;
		margin: 0;
		padding: 0;
		background-color: transparent;
		float: right;
		border: none;
		outline: none;
		display: block;
		font-size: 37px;
		line-height: 1;
		margin-top: -10px;

		&:hover{
			cursor: pointer;
		}

		& + * {
			margin-top: 0.4em;
		}
	}
}